{% extends "layouts/base.html" %}

{% block content %}
<div class="container mx-auto p-6 bg-gray-100 min-h-screen">
    {% if not current_user.is_authenticated %}
    <div class="max-w-xl mx-auto text-center py-10">
        <!-- The icon is now above and larger -->
        <div class="flex justify-center mb-4">
            <i class="iconify text-[#1a47ef] text-6xl" data-icon="ic:twotone-school"></i>
        </div>
        
        <h1 class="text-3xl font-bold text-gray-800 mb-4">
            Welcome to My LMS!
        </h1>
        <p class="text-lg text-gray-600 mb-8">Your journey to knowledge starts here. Sign up or log in to get started.</p>
        
        <div class="space-y-4">
            <a href="{{ url_for('auth.login') }}" class="inline-flex items-center justify-center w-full px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 transition duration-200">
                <i class="iconify text-xl mr-3" data-icon="ic:twotone-login"></i>
                Sign in
            </a>
            <a href="{{ url_for('auth.register') }}" class="inline-flex items-center justify-center w-full px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-indigo-700 bg-indigo-100 hover:bg-indigo-200 transition duration-200">
                <i class="iconify text-xl mr-3" data-icon="ic:twotone-app-registration"></i>
                Sign Up
            </a>
        </div>
    </div>
    {% else %}
    <div class="text-center py-10 bg-blue-50">
        <p class="text-lg text-gray-600">Redirecting you to your dashboard...</p>

        <!-- The updated, visible spinner -->
        <div class="flex justify-center mt-6">
            <div class="w-12 h-12 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin"></div>
        </div>
    </div>
    <script>
        // Redirect to the dashboard route immediately upon page load
        window.location.href = "{{ url_for('main.dashboard') }}";
    </script>
    {% endif %}
</div>
{% endblock %}
